"use strict";function removeClass(e,t){e.forEach((function(e){e.classList.remove(t)}))}function addClass(e,t){e.forEach((function(e){e.classList.add(t)}))}window.addEventListener("load",(function(){var e=.01*window.innerHeight,t=.01*document.documentElement.clientWidth;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(t,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px")),t=.01*document.documentElement.clientWidth,document.documentElement.style.setProperty("--vw","".concat(t,"px"))}))}));var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints;gsap.registerPlugin(ScrollTrigger);var sectionsScroller=document.querySelectorAll(".js-section-scroller");sectionsScroller.length&&sectionsScroller.forEach((function(e,t){var o=gsap.utils.toArray(e.querySelectorAll(".js-screen")),n=gsap.to(o,{xPercent:-100*(o.length-1),ease:"none",scrollTrigger:{trigger:e,pin:!0,scrub:1,onEnter:function(e){var o=0===t?300:0;e.trigger.querySelector(".js-screen")&&setTimeout((function(){e.trigger.querySelector(".js-screen").classList.add("start-animation")}),o)},end:function(){return o.length>1?"+=".concat(2*e.offsetWidth):"0"}}});(o.forEach((function(e){ScrollTrigger.create({trigger:e,containerAnimation:n,onEnter:function(t){e.classList.add("start-animation")},start:"start 50%"})})),e.querySelector(".overlay-eclipse"))&&e.querySelectorAll(".overlay-eclipse").forEach((function(e){gsap.to(e,{opacity:1,ease:"none",scrollTrigger:{trigger:e,containerAnimation:n,start:"center 100%",end:"center 50%",scrub:!0}})}));e.querySelector(".floating-image")&&e.querySelectorAll(".floating-image").forEach((function(e){gsap.to(e,{x:"50%",ease:"none",scrollTrigger:{trigger:e,containerAnimation:n,start:"-100% 100%",end:"50% 50%",scrub:!0}})}))}));var scrollThumb=document.querySelector(".scroll-bar__thumb");if(scrollThumb){var thumbHeight=Math.ceil(window.innerHeight*(window.innerHeight/document.documentElement.scrollHeight));scrollThumb.style.setProperty("--thumb-height",thumbHeight+"px"),gsap.to(scrollThumb,{y:function(){return window.innerHeight-scrollThumb.getBoundingClientRect().height},ease:"none",scrollTrigger:{start:0,end:"max",scrub:!0}})}var videos=document.querySelectorAll("video");if(videos.length){var observerCallbackVideo=function(e,t){e.forEach((function(e){var t=e.target;t.closest(".video-block")&&(e.isIntersecting?(t.play(),t.closest(".video-block").classList.add("_played")):(t.pause(),t.closest(".video-block").classList.remove("_played")))}))},observerVideo=new IntersectionObserver(observerCallbackVideo,{root:null,rootMargin:"0px",threshold:.5});videos.forEach((function(e){if(observerVideo.observe(e),e.closest(".video-block")){var t=e.closest(".video-block").querySelector(".play-btn"),o=e.closest(".video-block").querySelector(".pause-btn"),n=e.closest(".video-block").querySelector(".mute-controls");t&&o&&n&&(t.addEventListener("click",(function(){e.play(),e.closest(".video-block").classList.add("_played")})),o.addEventListener("click",(function(){e.pause(),e.closest(".video-block").classList.remove("_played")})),n.addEventListener("click",(function(){e.muted?(e.muted=!1,e.closest(".video-block").classList.add("_unmute")):(e.muted=!0,e.closest(".video-block").classList.remove("_unmute"))})))}}))}var sectionInMenu=document.querySelectorAll(".js-menu-section"),menuElements=document.querySelectorAll("nav a");if(sectionInMenu.length){var observerCallbackSection=function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target;removeClass(menuElements,"active"),document.querySelector('nav a[href="#'.concat(t.id,'"]'))&&document.querySelector('nav a[href="#'.concat(t.id,'"]')).classList.add("active")}}))},observerSection=new IntersectionObserver(observerCallbackSection,{root:null,rootMargin:"0px",threshold:.1});sectionInMenu.forEach((function(e){observerSection.observe(e)})),menuElements.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("href");document.querySelector(o).scrollIntoView({behavior:"smooth"})}))}))}