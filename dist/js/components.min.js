"use strict";function removeClass(e,t){e.forEach((function(e){e.classList.remove(t)}))}function addClass(e,t){e.forEach((function(e){e.classList.add(t)}))}window.addEventListener("load",(function(){var e=.01*window.innerHeight,t=.01*document.documentElement.clientWidth;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(t,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px")),t=.01*document.documentElement.clientWidth,document.documentElement.style.setProperty("--vw","".concat(t,"px"))}))})),window.addEventListener("load",(function(){"ontouchstart"in window||navigator.msMaxTouchPoints;gsap.registerPlugin(ScrollTrigger);var e=document.querySelectorAll(".js-section-scroller");e.length&&e.forEach((function(e,t){var n=gsap.utils.toArray(e.querySelectorAll(".js-screen")),o=gsap.to(n,{xPercent:-100*(n.length-1),duration:2,ease:"none",scrollTrigger:{trigger:e,pin:!0,fastScrollEnd:!0,preventOverlaps:!0,scrub:1,onEnter:function(e){e.trigger.querySelector(".js-screen")&&e.trigger.querySelector(".js-screen").classList.add("start-animation")},end:function(){return n.length>1?"+=".concat(2*e.offsetWidth):"0"},markers:!0}});(n.forEach((function(e,t){ScrollTrigger.create({trigger:e,containerAnimation:0!==t&&o,onEnter:function(t){e.classList.add("start-animation")},start:"start 50%"})})),e.querySelector(".overlay-eclipse"))&&e.querySelectorAll(".overlay-eclipse").forEach((function(e){gsap.to(e,{opacity:1,ease:"none",scrollTrigger:{trigger:e,containerAnimation:o,start:"center 100%",end:"center 50%",scrub:!0}})}));e.querySelector(".floating-image")&&e.querySelectorAll(".floating-image").forEach((function(e){gsap.to(e,{x:"50%",ease:"none",scrollTrigger:{trigger:e,containerAnimation:o,start:"-100% 100%",end:"50% 50%",scrub:!0}})}))}));var t=document.querySelector(".scroll-bar__thumb");if(t){var n=Math.ceil(window.innerHeight*(window.innerHeight/document.documentElement.scrollHeight));t.style.setProperty("--thumb-height",n+"px"),gsap.to(t,{y:function(){return window.innerHeight-t.getBoundingClientRect().height},ease:"none",scrollTrigger:{start:0,end:"max",scrub:!0}})}var o=document.querySelectorAll("video");if(o.length){var r=new IntersectionObserver((function(e,t){e.forEach((function(e){var t=e.target;t.closest(".video-block")&&(e.isIntersecting?(t.play(),t.closest(".video-block").classList.add("_played")):(t.pause(),t.closest(".video-block").classList.remove("_played")))}))}),{root:null,rootMargin:"0px",threshold:.5});o.forEach((function(e){if(r.observe(e),e.closest(".video-block")){var t=e.closest(".video-block").querySelector(".play-btn"),n=e.closest(".video-block").querySelector(".pause-btn"),o=e.closest(".video-block").querySelector(".mute-controls");t&&n&&o&&(t.addEventListener("click",(function(){e.play(),e.closest(".video-block").classList.add("_played")})),n.addEventListener("click",(function(){e.pause(),e.closest(".video-block").classList.remove("_played")})),o.addEventListener("click",(function(){e.muted?(e.muted=!1,e.closest(".video-block").classList.add("_unmute")):(e.muted=!0,e.closest(".video-block").classList.remove("_unmute"))})))}}))}var c=document.querySelectorAll(".js-menu-section"),i=document.querySelectorAll("nav a");if(c.length){var s=new IntersectionObserver((function(e,t){e.forEach((function(e){if(e.isIntersecting){var t=e.target;removeClass(i,"active"),document.querySelector('nav a[href="#'.concat(t.id,'"]'))&&document.querySelector('nav a[href="#'.concat(t.id,'"]')).classList.add("active")}}))}),{root:null,rootMargin:"0px",threshold:.1});c.forEach((function(e){s.observe(e)})),i.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth"})}))}))}}));