"use strict";function removeClass(e,t){e.forEach((function(e){e.classList.remove(t)}))}function addClass(e,t){e.forEach((function(e){e.classList.add(t)}))}window.addEventListener("load",(function(){var e=.01*window.innerHeight,t=.01*document.documentElement.clientWidth;document.documentElement.style.setProperty("--vh","".concat(e,"px")),document.documentElement.style.setProperty("--vw","".concat(t,"px")),window.addEventListener("resize",(function(){e=.01*window.innerHeight,document.documentElement.style.setProperty("--vh","".concat(e,"px")),t=.01*document.documentElement.clientWidth,document.documentElement.style.setProperty("--vw","".concat(t,"px"))}))}));var supportsTouch="ontouchstart"in window||navigator.msMaxTouchPoints;gsap.registerPlugin(ScrollTrigger);var sectionsScroller=document.querySelectorAll(".js-section-scroller");sectionsScroller.length&&sectionsScroller.forEach((function(e){var t=gsap.utils.toArray(e.querySelectorAll(".js-screen")),o=gsap.to(t,{xPercent:-100*(t.length-1),ease:"none",scrollTrigger:{trigger:e,pin:!0,scrub:1,end:function(){return"+="+e.offsetWidth}}});e.querySelector(".overlay-eclipse")&&e.querySelectorAll(".overlay-eclipse").forEach((function(e){gsap.to(e,{opacity:1,ease:"none",scrollTrigger:{trigger:e,containerAnimation:o,start:"center 100%",end:"center 50%",scrub:!0}})}))}));var scrollThumb=document.querySelector(".scroll-bar__thumb");if(scrollThumb){var thumbHeight=Math.ceil(window.innerHeight*(window.innerHeight/document.documentElement.scrollHeight));scrollThumb.style.setProperty("--thumb-height",thumbHeight+"px"),gsap.to(scrollThumb,{y:function(){return window.innerHeight-scrollThumb.getBoundingClientRect().height},ease:"none",scrollTrigger:{start:0,end:"max",scrub:!0}})}var videos=document.querySelectorAll("video");if(videos.length){var observerOptions={root:null,rootMargin:"0px",threshold:.5},observerCallback=function(e,t){e.forEach((function(e){var t=e.target;e.isIntersecting?(t.play(),t.closest(".video-block").classList.add("_played")):(t.pause(),t.closest(".video-block").classList.remove("_played"))}))},observer=new IntersectionObserver(observerCallback,observerOptions);videos.forEach((function(e){observer.observe(e);var t=e.closest(".video-block").querySelector(".play-btn"),o=e.closest(".video-block").querySelector(".pause-btn"),n=e.closest(".video-block").querySelector(".mute-controls");t&&o&&n&&(t.addEventListener("click",(function(){e.play(),e.closest(".video-block").classList.add("_played")})),o.addEventListener("click",(function(){e.pause(),e.closest(".video-block").classList.remove("_played")})),n.addEventListener("click",(function(){e.muted?(e.muted=!1,e.closest(".video-block").classList.add("_unmute")):(e.muted=!0,e.closest(".video-block").classList.remove("_unmute"))})))}))}